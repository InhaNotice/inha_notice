language: "ko-KR"  # ëª¨ë“  ë¦¬ë·° ëŒ“ê¸€ì„ í•œêµ­ì–´ë¡œ ì‘ì„±

reviews:
  profile: "assertive"  # chill â†’ assertive (ë” ì ê·¹ì ì¸ ë¦¬ë·°)
  request_changes_workflow: true  # false â†’ true (ë³€ê²½ ìš”ì²­ í™œì„±í™”)
  high_level_summary: true
  poem: false

  # ğŸ¯ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ ë° ì‹œê°í™” í™œì„±í™”
  sequence_diagrams: true  # ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ ìƒì„±
  auto_title_update: true  # PR ì œëª© ìë™ ê°œì„ 

  auto_review:
    enabled: true
    ignore_title_keywords:
      - "WIP"
      - "Draft"
      - "[Draft]"
      - "ğŸš§"  # Work in Progress ì´ëª¨ì§€

    # Flutter/Dart í”„ë¡œì íŠ¸ ì „ìš© ì„¤ì •
    drafts: false  # Draft PRì€ ë¦¬ë·° ì œì™¸
    base_branches:
      - "main"
      - "develop"

  # Flutter í”„ë¡œì íŠ¸ìš© ê²½ë¡œ í•„í„°
  path_filters:
    # ì œì™¸: ë¹Œë“œ ë° ìë™ ìƒì„± íŒŒì¼
    - "!build/**"
    - "!**/*.g.dart"           # build_runner ìƒì„±
    - "!**/*.freezed.dart"     # freezed ìƒì„±
    - "!**/*.mocks.dart"       # mockito ìƒì„±
    - "!**/.dart_tool/**"
    - "!**/generated/**"

    # ì œì™¸: íŒ¨í‚¤ì§€ ê´€ë¦¬
    - "!pubspec.lock"
    - "!.flutter-plugins"
    - "!.flutter-plugins-dependencies"

    # ì œì™¸: í…ŒìŠ¤íŠ¸ í”½ìŠ¤ì²˜ ë° ë¦¬ì†ŒìŠ¤
    - "!test/fixtures/**"
    - "!assets/**"
    - "!fonts/**"

    # ì œì™¸: ë¬¸ì„œ ë° ì„¤ì •
    - "!*.md"  # ë§ˆí¬ë‹¤ìš´ ë¬¸ì„œ
    - "!.vscode/**"
    - "!.idea/**"

    # í¬í•¨: ë¦¬ë·° ëŒ€ìƒ (ëª…ì‹œì )
    - "lib/**/*.dart"          # ëª¨ë“  Dart ì†ŒìŠ¤ ì½”ë“œ
    - "test/**/*.dart"         # í…ŒìŠ¤íŠ¸ ì½”ë“œ
    - "pubspec.yaml"           # ì˜ì¡´ì„± ë³€ê²½ ê°ì§€

  tools:
    # AST ê¸°ë°˜ ì½”ë“œ ë¶„ì„ (êµ¬ì¡° íŒŒì•…)
    ast-grep:
      enabled: true

    # GitHub Checks í†µí•©
    github-checks:
      enabled: true
      timeout_ms: 90000  # 90ì´ˆ íƒ€ì„ì•„ì›ƒ (Flutter ë¹Œë“œ ê³ ë ¤)

    # ğŸ” ì¶”ê°€ ë„êµ¬ í™œì„±í™”
    markdownlint:
      enabled: false  # ë¬¸ì„œëŠ” ë¦¬ë·° ì œì™¸

    languagetool:
      enabled: false  # ë¬¸ë²• ê²€ì‚¬ ë¹„í™œì„±í™” (ì½”ë“œ ì¤‘ì‹¬)

  # ğŸ¨ ì‹œê°í™” ì˜µì…˜ ìƒì„¸ ì„¤ì •
  diagrams:
    # ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ (BLoC ì´ë²¤íŠ¸ íë¦„)
    sequence:
      enabled: true
      auto_generate: true
      format: "mermaid"  # Mermaid.js í˜•ì‹
      include_async: true  # async/await íë¦„ í¬í•¨
      show_return_values: true

    # í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ (Clean Architecture ë ˆì´ì–´)
    class:
      enabled: true
      auto_generate: true
      show_inheritance: true
      show_dependencies: true

    # í”Œë¡œìš° ì°¨íŠ¸ (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
    flowchart:
      enabled: true
      auto_generate: false  # ë³µì¡í•œ ê²½ìš°ë§Œ ìˆ˜ë™ ìš”ì²­

    # ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ (ë ˆì´ì–´ ì˜ì¡´ì„±)
    architecture:
      enabled: true
      show_layers: true  # Domain/Data/Presentation ë ˆì´ì–´ ì‹œê°í™”

# ğŸ§  ì»¤ìŠ¤í…€ ë¦¬ë·° í”„ë¡¬í”„íŠ¸
review_language: "ko-KR"  # ë¦¬ë·° ì–¸ì–´ ê°•ì œ (í•œêµ­ì–´)

knowledge_base:
  - path: "guidelines.md"
    description: "Clean Architecture + BLoC íŒ¨í„´ ê°€ì´ë“œë¼ì¸"
  - path: "README.md"
    description: "í”„ë¡œì íŠ¸ ê°œìš” ë° êµ¬ì¡°"

# ğŸ¯ ë¦¬ë·° ê·œì¹™ (Clean Architecture + BLoC)
custom_instructions: |
  **ëª¨ë“  ë¦¬ë·° ëŒ“ê¸€ì€ ë°˜ë“œì‹œ í•œêµ­ì–´ë¡œ ì‘ì„±í•©ë‹ˆë‹¤. (All review comments MUST be in Korean)**

  ## Primary Review Focus

  ### 1. Architecture Compliance (guidelines.md ê¸°ë°˜)

  **ë ˆì´ì–´ êµ¬ì¡° ê²€ì¦:**
  - âœ… Domain: entities/, failures/, repositories/, usecases/
  - âœ… Data: datasources/, models/, repositories/
  - âœ… Presentation: bloc/, pages/, widgets/
  - âŒ ì˜ì¡´ì„± ë°©í–¥ ìœ„ë°˜ ì²´í¬ (Presentation â†’ Domain â† Data)
  - ğŸ¨ **ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ ìƒì„±**: BLoC ì´ë²¤íŠ¸ â†’ UseCase â†’ Repository íë¦„

  **BLoC íŒ¨í„´:**
  - âœ… Event/StateëŠ” Equatable ìƒì†
  - âœ… BLoCì€ UseCaseë§Œ ì˜ì¡´ (Repository ì§ì ‘ ì°¸ì¡° ê¸ˆì§€)
  - âœ… State: Initial/Loading/Loaded/Error 4ë‹¨ê³„
  - ğŸ¨ **ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨**: ì‚¬ìš©ì ì•¡ì…˜ â†’ Event â†’ BLoC â†’ State â†’ UI

  **ì—ëŸ¬ ì²˜ë¦¬:**
  - âœ… Either<Failure, Entity> ë°˜í™˜
  - âœ… Freezed sealed class Failures
  - âŒ try-catchëŠ” Repository Implì—ë§Œ

  ### 2. Security & Best Practices

  **ë³´ì•ˆ:**
  - âŒ CRITICAL: í•˜ë“œì½”ë”©ëœ API í‚¤/í† í°/ë¹„ë°€ë²ˆí˜¸
  - âœ… flutter_dotenv ì‚¬ìš© ê¶Œì¥

  **Flutter ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤:**
  - âŒ StatefulWidgetì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (â†’ BLoC ì‚¬ìš©)
  - âŒ BuildContext ì‚¬ìš© í›„ async gap (â†’ mounted ì²´í¬)
  - âŒ ëˆ„ë½ëœ dispose (Controller/Stream)
  - âœ… const ìƒì„±ì ì‚¬ìš©

  ### 3. Visualization Requests

  **ìë™ ìƒì„±:**
  - ğŸ¨ BLoC ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë³€ê²½ â†’ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨
  - ğŸ¨ ìƒˆ UseCase ì¶”ê°€ â†’ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ (Domain ë ˆì´ì–´)
  - ğŸ¨ Repository ë³€ê²½ â†’ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ (ë ˆì´ì–´ ê°„ ì˜ì¡´ì„±)

  **ìˆ˜ë™ ìš”ì²­ (ë³µì¡í•œ ê²½ìš°):**
  - ëŒ“ê¸€ë¡œ "@coderabbitai generate sequence diagram for [feature]"
  - ëŒ“ê¸€ë¡œ "@coderabbitai show class diagram for [layer]"

  ### 4. Review Output Format

  For architectural changes:
  1. ğŸ“Š **Sequence Diagram** (Mermaid.js)
  2. ğŸ—ï¸ **Architecture Impact** (ë ˆì´ì–´ ì˜í–¥ë„)
  3. âœ… **Compliance Check** (guidelines.md ì¤€ìˆ˜ ì—¬ë¶€)
  4. ğŸ’¡ **Suggestions** (ê°œì„  ì œì•ˆ)

  Example:
  ```mermaid
  sequenceDiagram
      participant UI as LoginPage
      participant Bloc as AuthBloc
      participant UseCase as LoginUseCase
      participant Repo as AuthRepository
      participant DS as AuthRemoteDataSource

      UI->>Bloc: LoginRequestedEvent
      Bloc->>UseCase: call(email, password)
      UseCase->>Repo: login(email, password)
      Repo->>DS: loginWithCredentials()
      DS-->>Repo: AuthTokenModel
      Repo-->>UseCase: Right(AuthTokenEntity)
      UseCase-->>Bloc: Right(AuthTokenEntity)
      Bloc->>Bloc: emit(AuthLoginSuccess)
      Bloc-->>UI: AuthLoginSuccess state
  ```

# ğŸ¤– Chat ì„¤ì •
chat:
  auto_reply: true

  # ì±„íŒ… ëª…ë ¹ì–´ (ì‹œê°í™”)
  commands:
    - name: "diagram"
      description: "í˜„ì¬ PRì˜ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ ìƒì„±"
      enabled: true
    - name: "architecture"
      description: "ë ˆì´ì–´ ì˜ì¡´ì„± ë‹¤ì´ì–´ê·¸ë¨ ìƒì„±"
      enabled: true
    - name: "explain"
      description: "ë³µì¡í•œ ë¡œì§ ì„¤ëª… (ë‹¤ì´ì–´ê·¸ë¨ í¬í•¨)"
      enabled: true

# ğŸ¯ ì„±ëŠ¥ ìµœì í™”
performance:
  # ëŒ€ìš©ëŸ‰ PR ì²˜ë¦¬
  max_files: 100
  max_lines_per_file: 1000

  # ë³‘ë ¬ ì²˜ë¦¬
  concurrency: 4

  # ìºì‹±
  cache_enabled: true

# ğŸ“ PR ìš”ì•½ í…œí”Œë¦¿
summary_template: |
  ## ğŸ“Š ë³€ê²½ ì‚¬í•­ ìš”ì•½

  ### ğŸ—ï¸ ì•„í‚¤í…ì²˜
  - Domain ë ˆì´ì–´: [ë³€ê²½ ì‚¬í•­]
  - Data ë ˆì´ì–´: [ë³€ê²½ ì‚¬í•­]
  - Presentation ë ˆì´ì–´: [ë³€ê²½ ì‚¬í•­]

  ### ğŸ¨ ì‹œê°í™”
  [ìë™ ìƒì„±ëœ ë‹¤ì´ì–´ê·¸ë¨]

  ### âœ… Guidelines ì¤€ìˆ˜ ì²´í¬
  - [ ] ì˜ì¡´ì„± ë°©í–¥ ì¤€ìˆ˜
  - [ ] BLoC íŒ¨í„´ ì¤€ìˆ˜
  - [ ] Either ëª¨ë‚˜ë“œ ì‚¬ìš©
  - [ ] ë³´ì•ˆ ì´ìŠˆ ì—†ìŒ

  ### ğŸ’¡ ì£¼ìš” ê°œì„  ì œì•ˆ
  [ìƒìœ„ 3ê°œ ì œì•ˆ]

# ğŸš¨ ì•Œë¦¼ ì„¤ì •
notifications:
  # ì¤‘ìš” ì´ìŠˆë§Œ ì•Œë¦¼
  critical_only: false

  # ì•Œë¦¼ ì±„ë„
  channels:
    - github_comments
    - github_reviews
